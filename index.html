<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Card</title>

<style>
body{
  margin:0;
  font-family:Arial;
  text-align:center;
  color:white;
  background:linear-gradient(45deg,#1a001a,#330033,#660033);
  overflow:hidden;
}

/* Glitter */
body::after{
  content:"";
  position:fixed;
  width:100%;
  height:100%;
  background:url("https://i.imgur.com/8QfQZ6F.png");
  opacity:0.15;
}

/* Inputs */
input{
  padding:12px;
  margin:6px;
  border-radius:10px;
  border:none;
  font-size:16px;
  width:80%;
  max-width:250px;
}

/* HEART */
.heart{
  width:200px;
  height:180px;
  position:relative;
  margin:40px auto;
  cursor:pointer;
}

.half{
  width:100px;
  height:160px;
  background:#ff1744;
  position:absolute;
  transition:1s;
}

.left{
  left:0;
  border-radius:100px 0 0 100px;
}

.right{
  right:0;
  border-radius:0 100px 100px 0;
}

.open .left{
  transform:translateX(-120px) rotate(-20deg);
}

.open .right{
  transform:translateX(120px) rotate(20deg);
}

/* Message */
#message{
  font-size:22px;
  margin-top:10px;
  opacity:0;
  transition:1s;
}

/* Countdown */
#count{
  font-size:40px;
  margin-top:10px;
  color:#ff4d6d;
}

/* Floating hearts */
.float{
  position:absolute;
  color:#ff4d6d;
  animation:floatUp 6s linear infinite;
}

@keyframes floatUp{
  from{transform:translateY(100vh);}
  to{transform:translateY(-10vh);}
}

/* Confetti */
.confetti{
  position:fixed;
  width:10px;
  height:10px;
  top:0;
  animation:fall 4s linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(100vh) rotate(720deg);
    opacity:0;
  }
}
</style>
</head>

<body>

<h2>üíò Love Card</h2>

<input id="girl" placeholder="Girl's name"><br>
<input id="you" placeholder="Your name"><br>

<p>Tap the heart üëá</p>

<div class="heart" id="heart" onclick="startLove()">
  <div class="half left"></div>
  <div class="half right"></div>
</div>

<div id="count"></div>
<div id="message"></div>

<audio id="song" src="assets/caesar-snooze.m4a"></audio>

<script>
function startLove(){
  let girl=document.getElementById("girl").value.trim();
  let you=document.getElementById("you").value.trim();

  if(!girl||!you){
    alert("Enter both names üòä");
    return;
  }

  let c=3;
  document.getElementById("count").innerHTML=c;

  let timer=setInterval(()=>{
    c--;
    document.getElementById("count").innerHTML=c>0?c:"‚ù§Ô∏è";

    if(c<=0){
      clearInterval(timer);
      openHeart(girl,you);
    }
  },1000);
}

function openHeart(girl,you){
  document.getElementById("count").innerHTML="";
  document.getElementById("heart").classList.add("open");

  let msg="Happy Valentine's Day "+girl+" ‚ù§Ô∏è<br>Love, "+you;
  let m=document.getElementById("message");
  m.innerHTML=msg;
  m.style.opacity=1;

  document.getElementById("song").play();

  startHearts();
  confetti();
}

/* Floating hearts */
function startHearts(){
  setInterval(()=>{
    let h=document.createElement("div");
    h.innerHTML="‚ù§";
    h.className="float";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(20+Math.random()*30)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
  },300);
}

/* Confetti explosion */
function confetti(){
  for(let i=0;i<120;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=
      `hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}
</script>

</body>
</html>
